<h1>New Booking</h1>

<%= form_with model: @booking do |form| %>
  <h3>Flight Number:</h3>
  <%= @flight.id %>
  <%= form.hidden_field :flight_id, value: params[:flight_id] %>
  <h3>Date:</h3>
  <%= @flight.start.to_date %>
  <h3>Departure:</h3>
  <%= "#{@flight.departure_airport.name} (#{@flight.departure_airport.code}): #{@flight.start.strftime("%I:%M %p")}" %>
  <h3>Arrival:</h3>
  <%= "#{@flight.arrival_airport.name} (#{@flight.arrival_airport.code}): #{(@flight.start + @flight.duration.minutes).strftime("%I:%M %p")}" %>
  <h3>Passengers:</h3>
  <ul>
    <%= form.fields_for :passengers do |passengers_form| %>
      <li>
        <%= passengers_form.label :name %>
        <%= passengers_form.text_field :name %>

        <%= passengers_form.label :email %>
        <%= passengers_form.text_field :email %>
      </li>
    <% end %>
  </ul>
  <%= form.submit "Book this flight" %>
<% end %>